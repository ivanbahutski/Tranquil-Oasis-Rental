{% extends "menu/base.html" %}
{% load i18n %}

{% block content %}
<title>{{ property.title }}</title>


<h1>{{ property.title }}</h1>

<p><strong>{% trans "Description" %}:</strong> {{ property.description }}</p>
<p><strong>{% trans "Price per night" %}:</strong> {{ property.price_per_night }} €</p>
<p><strong>{% trans "Address" %}:</strong> {{ property.address }}</p>


<h2>{% trans "Availability Calendar" %}</h2>
<div id="calendar"></div>

<h2>{% trans "Reserve this property" %}</h2>

<form method="post" id="booking-form">
    {% csrf_token %}

    <label for="date_range">{% trans "Select Dates" %}:</label><br>
    <input type="text" id="dateRangePicker" name="date_range" required><br><br>

    <label for="name">{% trans "Name" %}:</label><br>
    <input type="text" name="name" required><br><br>

    <label for="email">{% trans "Email" %}:</label><br>
    <input type="email" name="email" required><br><br>

    <label for="phone">{% trans "Phone" %}:</label><br>
    <input type="text" name="phone" required><br><br>

    <button type="submit">{% trans "Reserve" %}</button>
</form>

<!-- Flatpickr JS -->
<script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>

<script>
// Инициализация календаря
flatpickr("#dateRangePicker", {
    mode: "range",
    dateFormat: "Y-m-d",
    inline: true,
    disable: {{ booked_dates|safe }},
    minDate: "today",
    locale: "{{ LANGUAGE_CODE }}",
});
</script>
{% endblock %}